utility function for vesrion 4